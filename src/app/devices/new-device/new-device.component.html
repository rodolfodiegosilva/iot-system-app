<div class="main-container new-device-container">
  <h2>Create New Device</h2>

  <div class="clone-section">
    <label for="cloneDevice">Clone from Existing Device</label>
    <select id="cloneDevice" [(ngModel)]="selectedDeviceCode" (change)="cloneDevice(selectedDeviceCode)" class="form-control">
      <option value="" disabled selected>Select a device to clone</option>
      <option *ngFor="let device of devices" [value]="device.deviceCode">{{ device.name }}</option>
    </select>
  </div>

  <form [formGroup]="deviceForm" (ngSubmit)="createDevice()">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" id="name" formControlName="name" class="form-control" />
      <div *ngIf="f['name'].touched && f['name'].invalid" class="error">
        <div *ngIf="f['name'].errors?.['required']">Name is required.</div>
      </div>
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <input type="text" id="description" formControlName="description" class="form-control" />
      <div *ngIf="f['description'].touched && f['description'].invalid" class="error">
        <div *ngIf="f['description'].errors?.['required']">Description is required.</div>
      </div>
    </div>
    <div class="form-group">
      <label for="status">Status</label>
      <select id="status" formControlName="status" class="form-control">
        <option *ngFor="let status of statuses" [value]="status">{{ status }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="industryType">Industry Type</label>
      <select id="industryType" formControlName="industryType" class="form-control">
        <option *ngFor="let type of industryTypes" [value]="type">{{ type }}</option>
      </select>
      <div *ngIf="f['industryType'].touched && f['industryType'].invalid" class="error">
        <div *ngIf="f['industryType'].errors?.['required']">Industry Type is required.</div>
      </div>
    </div>
    <div class="button-container">
      <button type="submit" [disabled]="deviceForm.invalid">Create Device</button>
    </div>
    <div *ngIf="successMessage" class="success-card">{{ successMessage }}</div>
    <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
  </form>
</div>
